---
import { Picture } from 'astro:assets'
import scoreImg from '../../images/score.jpg'
import tesolImg from '../../images/TESOL.jpg'

const images = [
  [tesolImg, '国际TESOL/TEFL证书'],
  [scoreImg, '研究生及大学六级分数'],
] as const
---

<section class="py-16 sm:py-20">
  <div class="v mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8">
    <div class="flex flex-col items-center gap-12 lg:gap-20">
      <h2 class="mx-auto max-w-xl text-center text-3xl font-medium tracking-tight sm:text-4xl">
        证书<span
          class="ml-2 text-lg before:mx-2 before:text-primary-950/70 before:content-['/'] before:dark:text-primary-200/70"
          >Certificate</span
        >
      </h2>
      <div class="certificate-embla overflow-hidden">
        <div class="flex items-start transition-[height]">
          {
            images.map(([src, alt]) => (
              <figure class="flex-shrink-0 flex-grow-0 basis-11/12 pl-6 md:basis-1/2 lg:basis-1/3">
                <Picture src={src} formats={['avif', 'webp']} alt={alt} />
                <figcaption class="mt-4 text-center font-semibold">{alt}</figcaption>
              </figure>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import EmblaCarousel from 'embla-carousel'
  import AutoHight from 'embla-carousel-auto-height'

  import Viewer from 'viewerjs'
  import 'viewerjs/dist/viewer.css'

  const emblaNode = document.querySelector<HTMLDivElement>('.certificate-embla')!
  EmblaCarousel(emblaNode, { loop: false, align: 'start' }, [AutoHight()])

  new Viewer(emblaNode, {
    inline: false,
    toolbar: false,
    navbar: false,
  })
</script>
